(function () {var a={computed:{weekDayOfFirstDayInMonth:function(){return this.currentDate?parseInt(this.$library.dayjs(this.currentDate).date(1).format("d")):0},currentMonth:function(){if(this.currentDate)return this.$library.dayjs(this.currentDate).format("MM")},currentMonthName:function(){if(this.currentDate)return this.$library.dayjs(this.currentDate).format("MMMM")},currentYear:function(){if(this.currentDate)return this.$library.dayjs(this.currentDate).format("YYYY")},lastDayInMonth:function(){if(this.currentDate)return this.$library.dayjs(this.currentDate).endOf("month").format("YYYY-MM-DD")},daysInMonth:function(){var t=this;return this.currentDate?Array.from(Array(this.$library.dayjs(this.currentDate).daysInMonth()).keys()).map(function(e){return{fullDate:"".concat(t.currentYear,"-").concat(t.currentMonth,"-").concat(String(e+1).padStart(2,"0")),number:e+1}}):0}},methods:{changeMonth:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.currentDate=this.$library.dayjs(this.currentDate).add(1*t,"month").date(1).format("YYYY-MM-DD")},addPage:function(t){this.page.date=t,this.$refs.dialog.open()},submitPage:function(){var t=this,e=this.target.replace("[YEAR]",this.$library.dayjs().format("YYYY"));this.$api.pages.create(e,{slug:this.$helper.slug(this.page.title),title:this.page.title,template:this.defaultTemplate,content:{title:this.page.title,text:"",date:this.page.date}}).then(function(e){t.$refs.dialog.close(),t.$go("pages/".concat(e.id.replace(/\//g,"+")))})}},data:function(){return{headline:"",parentPage:"",target:"",defaultTemplate:"",loading:!1,currentDate:null,page:{title:null,date:null},posts:[]}},watch:{currentDate:function(){var t=this;this.loading=!0,this.$api.get("calendar-view/".concat(this.parentPage,"/").concat(this.currentDate,"/").concat(this.lastDayInMonth)).then(function(e){var a=e.data;t.loading=!1,t.posts={},a.forEach(function(e){t.posts[e.date]||(t.posts[e.date]=[]),t.posts[e.date].push(e)})})}},created:function(){var t=this;this.load().then(function(e){t.headline=e.headline,t.parentPage=e.parent,t.target=e.target,t.defaultTemplate=e.defaultTemplate,t.currentDate=t.$library.dayjs().date(1).format("YYYY-MM-DD")})}};if(typeof a==="function"){a=a.options}Object.assign(a,function(){var render=function(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c("div",{staticClass:"panel"},[_c("k-headline",{staticClass:"headline",attrs:{"size":"medium"}},[_vm._v(_vm._s(_vm.headline))]),_vm._v(" "),_c("div",{staticClass:"wrapper"},[_c("k-headline",{staticStyle:{"margin-bottom":"1rem","text-align":"center"},attrs:{"size":"medium"}},[_c("button",{on:{"click":function($event){$event.preventDefault();return _vm.changeMonth(-1)}}},[_vm._v("\u2190")]),_vm._v(" "),_c("div",{staticClass:"cv-month-year"},[_vm._v(_vm._s(_vm.currentMonthName)+" "+_vm._s(_vm.currentYear))]),_vm._v(" "),_c("button",{on:{"click":function($event){$event.preventDefault();return _vm.changeMonth(1)}}},[_vm._v("\u2192")])]),_vm._v(" "),_c("div",{staticClass:"cv-month"},[_vm._l(_vm.weekDayOfFirstDayInMonth,function(i){return _c("div",{staticClass:"cv-day cv-day-placeholder"})}),_vm._v(" "),_vm._l(_vm.daysInMonth,function(day){return _c("div",{staticClass:"cv-day",class:{"cv-loading":_vm.loading}},[_c("div",{staticClass:"cv-toolbar"},[_c("div",{staticClass:"cv-day-number"},[_vm._v(" "+_vm._s(day.number))]),_vm._v(" "),_c("button",{staticClass:"cv-add",on:{"click":function($event){$event.preventDefault();return _vm.addPage(day.fullDate)}}},[_vm._v("\u2795")])]),_vm._v(" "),_vm._l(_vm.posts[day.fullDate],function(post){return _c("div",{staticClass:"cv-day-post",class:"status-"+post.status},[_c("button",{on:{"click":function($event){$event.preventDefault();return _vm.$go(post.panelLink)}}},[_vm._v(_vm._s(post.title))])])})],2)})],2)],1),_vm._v(" "),_c("k-dialog",{ref:"dialog",on:{"submit":function($event){return _vm.$refs.form.submit()}}},[_c("k-form",{ref:"form",attrs:{"fields":{title:{label:"Title",type:"text"}}},on:{"submit":_vm.submitPage},model:{value:_vm.page,callback:function($$v){_vm.page=$$v},expression:"page"}})],1)],1)};var staticRenderFns=[];return{render:render,staticRenderFns:staticRenderFns,_compiled:true,_scopeId:null,functional:undefined}}());panel.plugin("pwaldhauer/calendar-view",{sections:{"calendar-view":a}});})();